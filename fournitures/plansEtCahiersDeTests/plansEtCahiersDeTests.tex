\documentclass[12pt,a4paper,openany]{report}
%%%% JNLP 
\usepackage{lmodern}
\usepackage{xcolor}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage[top=1.7cm, bottom=1.7cm, left=1.5cm, right=1.5cm]{geometry}
\usepackage{pdfpages}
\usepackage{listingsutf8} \usepackage{fancyhdr}
\usepackage{multido}
\usepackage{multicol}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{ifthen}
\usepackage{makeidx}
\usepackage{float}
\usepackage[urlbordercolor={1 1 1}, linkbordercolor={1 1 1}, urlcolor=blue]{hyperref}

\newcommand{\headGauche}{}
\newcommand{\headCentre}{}
\newcommand{\headDroite}{}
%\newCommand{\footGauche}{} Université paul sabatier Toulouse III
\newcommand{\footCentre}{}
%\newCommand{\footDroite}{} Numéro de page
\newcommand{\premierDestinataire}{Monsieur Max Chevalier}
\newcommand{\rolePremierDestinataire}{Resonsable projet}

\newcommand{\secondDestinaire}{Madame Caroline Kross}
\newcommand{\roleSecondDestinaire}{Tutrice}

\newcommand{\troisiemeDestinaire}{Monsieur Thierry Millan}
\newcommand{\roleTroisiemeDestinaire}{Client}

\newcommand{\quatriemeDestinaire}{}
\newcommand{\roleQuatriemeDestinaire}{}

\newcommand{\cinquiemeDestinaire}{}
\newcommand{\roleCinquiereDestinaire}{}
\newcommand{\titreDocument}{Les plans et les cahiers de tests}

\input{../couverture_entete.tex}
\input{../listings.tex}
\addto\captionsfrench{%
	\renewcommand{\listfigurename}{Liste des figures}%
}
\begin{document}
	\maketitle
	\newpage
	\setcounter{tocdepth}{3}
	\setcounter{secnumdepth}{3}
	\input{../intro.tex}
	\tableofcontents
	\newpage
	\chapter{Les plans de tests}
	\section{Les plans de non régression}
	Notre projet est de développé une \glo{bibliothèque}{Bibliothèque}{Un composant indépendant fournissant des méthodes déjà implémentées, facilitant le développement de d'une application plus importante.} \glo{UML}{UML}{(Unified Modeling Language) Langage de modélisation graphique à base de pictogramme. Il est apparu dans le monde du génie logiciel dans le cadre de la conception orientée objet. Ce langage est composé de différents diagrammes, allant du développement à la simple analyse des besoins. } \footnote{Unified Modeling Language}, aucun système n'existant
	au départ, il est donc inutile de faire un test de non régression étant donné que nous ne continuons pas un système, il n'y aura pas 
	de régression.
	\section{Les tests de validation}
	Nous avons développé un \glo{démonstrateur}{Démonstrateur}{Un démonstrateur est un logiciel simple, permettant de montrer les possibilités d'une bibliothèque} qui utilise notre bibliothèque et qui fait office de test de validation. Il nous permet de vérifier que toutes les attentes du client sont respectées. \\
		Avec ce démonstrateur, nous pouvons montrer au client les différentes possibilités de la bibliothèque, ainsi qu'un exemple d'utilisation.

		\subsection{Jeux d'essais}
		\subsubsection{Dessiner un diagramme complet}
		Nous avons effectué plusieurs jeux d'essais, le but est de pouvoir dessiner pour chacun des types de diagrammes demandés par le client,
		un diagramme utilisant tous les composants de la norme UML 2.0 et respectant cette même norme, ceci pour chacun des diagrammes 
		demandés par notre client. 
		\begin{itemize}
			\item Dessiner un \glo{diagramme de classes}{Diagramme de classes}{Schéma utilisé en génie logiciel pour représenter les classes et les interfaces des systèmes ainsi que les différentes relations entre celles-ci.}.
			\item Dessiner un \glo{diagramme de séquence}{Diagramme de séquence}{ Représentation graphique des interactions entre les acteurs et le système selon un ordre chronologique. Ce diagramme est inclus dans la partie dynamique d'UML.}.
			\item Dessiner un \glo{diagramme de cas d'utilisation}{Diagramme de cas d'utilisation} {Représentation graphique permettant de décrire les intéractions entre les acteurs et le système.}.
		\end{itemize}
	
		\subsubsection{Respecter les contraintes d'ajout d'éléments}
		Pour chacun des diagrammes, les contraintes doivent être respectées, ainsi en fonction du type de diagramme, certains éléments ne doivent pas pouvoir
		être insérés. Voici la liste des éléments autorisés en fonction du type de diagramme.
		\begin{multicols}{2}
		\paragraph{Diagramme de cas d'utilisation}
		\begin{itemize}
			\item Cas d'utilisation
			\item Acteur actif
		\end{itemize}
		\paragraph{Diagramme de classes}
		\begin{itemize}
			\item Classe
			\item Interface
		\end{itemize}
		\paragraph{Diagramme de séquence}
		\begin{itemize}
			\item Traitement
			\item Acteur actif 
			\item Acteur passif
			\item Ligne de vie 
		\end{itemize}
		\end{multicols}

		\subsubsection{Respecter les contraintes de liaisons d'éléments}
		Nous devons également respecter les contraintes de liaison entre les différents éléments. Ainsi voici la liste des liaisons possible.
		\begin{multicols}{2}
		\paragraph{Diagramme de classe}	
		\begin{itemize}
			\item Entre deux classes
				\begin{itemize}
					\item Agrégation
					\item Composition
					\item Association
					\item Spécialisation
				\end{itemize}
			\item Entre une classe et une interface
				\begin{itemize}
					\item Spécialisation
					\item Dépendance fonctionnelle 
						\\ \\
				\end{itemize}
		\end{itemize}
		\paragraph{Diagramme de cas d'utilisation}	
		\begin{itemize}
			\item Entre un acteur un cas d'utilisation
				\begin{itemize}
					\item Association
				\end{itemize}
			\item Entre deux cas d'utilisations
				\begin{itemize}
					\item Dépendance fonctionnelle
				\end{itemize}
		\end{itemize}
		\paragraph{Diagramme de séquence}
		\begin{itemize}
			\item Entre deux traitements
				\begin{itemize}
					\item Dépendance fonctionnelle
					\item Déclenchements
				\end{itemize}
		\end{itemize}
		\end{multicols}
		\subsection{Résultats obtenus}
		Nous vérifierons que les diagrammes sont bien réalisés, qu'il n'y a aucune erreur, et qu'ils correspondent aux besoins du client.\\
		Également, nous vérifierons que nous ne pouvons pas relier ou ajouter des éléments non autorisés par la norme UML 2.0.

	\section{Les tests d'intégration}
		Nous avons développé un démonstrateur qui utilise notre bibliothèque et qui fait office de test d'intégration démontrant que notre système
		est utilisable en tant que composant par un logiciel extérieur. Il nous permet également de montrer au client les possibilités de notre bibliothèque.

		\subsection{Les composants à tester}
			Notre bibliothèque d'objets graphiques en tant que composant de notre démonstrateur.

			\subsection{Les jeux d'essais}
			Dessiner un diagramme de classes, un diagramme de séquence ainsi qu'un diagramme de cas d'utilisation chacun utilisant tous les objets graphiques 
			possibles. \\
			Une fois ces diagrammes dessinés, nous testerons la suppression\footnote{La suppression d'un élément devant supprimer les liens de l'élément supprimé},
			l'ajout de méthodes et d'attributs dans une classe, ainsi que la modification de données.

			\subsection{Les résultats attendus}
			Représentation graphique des différents diagrammes respectant la norme UML 2.0 avec possibilité d'ajout ou de suppression de données.
			\newpage
	\section{Les tests unitaires}
	Les tests unitaires servent à tester chacune des méthodes de notre bibliothèque.\\
	Nous avons utiliser \glo{JUnit}{JUnit}{Bibliothèque permettant de créer des tests unitaires simplement}
	pour tester toutes les méthodes de notre bibliothèque. Les tests sont validés si 
	la bibliothèque \texttt{JUnit} nous indique que tous les tests passent et ne posent pas de problème.
	La description des tests unitaires est disponible sous format Javadoc à l'annexe \ref{junitdoc} page \pageref{junitdoc}.
	Elle est également disponible sous format HTML à l'adresse suivante: \\
	$\rhd$ \url{http://documentation.joohoo.fr/libUML/junitTests/index.html}\\
		
	\section{Le test de charge}
		\subsection{Le jeu d'essai}
		Le test de charge permet de savoir si la création d'un grand nombre d'éléments graphiques ne posera pas de problème. 
		Ainsi, nous allons créer les éléments suivants dans un diagramme sans contraintes.
		\begin{itemize}
			\item 20 Classes
			\item 20 Cas d'utilisation
			\item 20 Traitements
			\item 20 Acteurs actifs
			\item 20 Acteurs passifs
			\item 60 Liens
		\end{itemize}
		Une fois ces éléments créés, nous supprimerons 40 éléments, qui devront supprimer les liens reliés aux éléments.
		\subsection{Les résultats attendus}
		Aucune exception, les éléments ont été bien créés et certains éléments ont été supprimés avec les liens.
	\chapter{Les cahiers de tests}	
	\section{Création du démonstrateur}
	Pour les tests de validation, nous avons donc créé un démonstrateur, ce démonstrateur a évolué tout au long du développement de la bibliothèque UML, 
	lorsque nous rajoutions des éléments dans la bibliothèque, nous modifions le démonstrateur pour les intégrer.
		\begin{figure}[H]
			\centering
			\includegraphics[width=18cm]{choixDiagramme.jpg}
			\caption{Ouverture du démonstrateur (Choix du type de diagramme)}
		\end{figure}
	\newpage
	\section{Les tests de validation}
		\subsection{Dessiner un diagramme de cas d'utilisation}
		\begin{figure}[H]
			\centering
			\includegraphics[width=16cm]{validation3.jpg}
			\caption{Création d'un diagramme de cas d'utilisation simple}
			\includegraphics[width=16cm]{validation4.jpg}
			\caption{Validation de l'interdiction d'ajouter des éléments non autorisés}
		\end{figure}
		\subsection{Dessiner un diagramme de classes}
		\begin{figure}[H]
			\centering
			\includegraphics[width=18cm]{validation1.jpg}
			\caption{Création d'un diagramme de classes simple}
			\includegraphics[width=18cm]{validation2.jpg}
			\caption{Validation de l'interdiction d'ajouter des éléments non autorisés}
		\end{figure}
		\subsection{Dessiner un diagramme de séquence}
		\begin{figure}[H]
			\centering
			\includegraphics[width=18cm]{validation5.jpg}
			\caption{Création d'un diagramme de séquence simple}
			\includegraphics[width=18cm]{validation6.jpg}
			\caption{Validation de l'interdiction d'ajouter des éléments non autorisés}
		\end{figure}
		\newpage
			\begin{figure}[H]
				\section{Les tests d'intégration}
					\begin{flushleft} Nous avons créé un diagramme sans aucune contrainte, tous les éléments pouvant donc être reliés entre eux. \end{flushleft}
					\centering
					\includegraphics[width=18cm]{integration1.jpg}
					\caption{Diagramme sans aucune contrainte}
				\includegraphics[width=18cm]{integration2.jpg}
				\caption{Le même diagramme après suppression de l'acteur au centre}
			\end{figure}
			\begin{figure}[H]
				\section{Les tests unitaires}
				\subsection{Création des tests}
				\begin{flushleft}
					Nous avons donc créé des tests unitaires \texttt{JUnit}, une classe de test pour une classe à tester.\\ Chacune des méthodes doivent être testés, 
					avec un ou plusieurs tests.\\
					Vous pouvez avoir les détails des tests unitaires avec la documentation en Annexe \ref{junitdoc} page \pageref{junitdoc}.
				\subsection{Résultat des tests}
				Après lancement des tests unitaires, ils sont tous passés. Nous pouvons donc en conclure que les différents modules de la bibliothèque UML fonctionnent. 
				\end{flushleft}
				\centering
				\includegraphics[width=9.75cm]{junitPassed.jpg} 
			\end{figure}
			\newpage
	\section{Le test de charge}
	\subsection{Création du test}
	Le test de charge a été effectué en créant les éléments graphiques répertoriés dans les plans de tests. Voici le code permettant d'effectuer ce test:
	\lstinputlisting[language=Java, caption=Code du test de charge]{ChargeTest.java}
	\subsection{Résultat du test}
	\includegraphics[width=25cm, angle=90]{testCharge.jpg}
	\closeout\glossaireVar
	\appendix	
	\chapter{Glossaire} \label{glossaire}
	\begin{sortedlist}
		\input{glossaire.tex}
	\end{sortedlist}

	\chapter{Documentation des tests unitaires}
	\label{junitdoc}
	\includepdf[page=1-23]{docJUnit.pdf}
\end{document}
